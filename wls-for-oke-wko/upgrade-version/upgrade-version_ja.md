# WebLogicサーバー・バージョンでのアップグレード(オプション)

## 概要

この演習では、プライマリ・イメージを変更します。WebLogicサーバー・イメージを_12.2.1.4-slim-ol8_タグとともに使用します。次に、WebLogic Kubernetes Toolkit UIを使用してドメインを再デプロイします。最後に、新しく管理対象サーバー・ポッドがWebLogicリモート・コンソールを介して更新されたWebLogicサーバー・イメージを使用していることを確認します。

見積時間: 10分

### 目的

この演習では、次のことを行います。

*   プライマリ・イメージとしてWebLogicサーバー・イメージ(12.2.1.4)を使用します。
*   WebLogicドメインを再デプロイします。

### 事前設定

*   演習1で作成したnoVNCリモート・デスクトップにアクセスします。

## タスク1: 新しいWebLogicサーバー・イメージの詳細をプライマリ・イメージとして入力

このタスクでは、アップグレードされたWebLogic Server 12.2.1.4.0イメージを使用するようにプライマリ・イメージを更新します。

1.  WebLogic Kubernetes Toolkit UIに戻り、_WebLogicドメイン_をクリックします。WebLogicサーバー・タグを_12.2.1.4-slim-ol8_に変更しました。 ![プライマリ・イメージ・タグの更新](images/update-primary-image-tag.png)

## タスク2: サーバー・ポッドのローリング再起動によるデプロイ済アプリケーションの更新

このタスクでは、WebLogicドメインを再デプロイします。後で、WebLogicリモート・コンソールを使用して、サーバー・ポッドが更新されたWebLogic Server 12.2.1.4.0 Imageを使用していることを確認します。

1.  _「ドメインのデプロイ」_をクリックします。これにより、ドメインが再デプロイされます。 ![ドメインの再デプロイ](images/redeploy-domain.png)
    
    > **参考情報:**  
    > プライマリ・イメージを変更したため、サーバーが1つずつローリング再起動されます。_「ドメインのデプロイ」_をクリックすると、_イントロスペクタ・ジョブ_が起動され、実行中の管理サーバー・ポッドが終了し、WebLogic Server 12.2.1.4.0イメージを使用する管理サーバー用の新しいポッドが作成されます。イントロスペクタは、両方の管理対象サーバーで同じプロセスを実行します。
    
2.  _WebLogic「Kubernetesへのドメイン・デプロイメントの完了」_ウィンドウが表示されたら、_「OK」_をクリックします。 ![デプロイメントの完了](images/deployment-complete.png)
    
3.  _「ターミナル」_に戻り、次のコマンドをコピーして端末に貼り付けます。サーバーのローリング再起動が1つずつ行われます。まず、管理サーバー・ポッドが終了し、_「実行中」_状態になります。
    
        <copy>kubectl get pods -n test-domain-ns -w</copy>
        
    
    ![ポッドの表示](images/view-pods.png)
    
4.  管理サーバーおよび管理対象サーバーのポッドが更新されたWebLogicサーバー・イメージを使用していることを確認するには、「モニタリング・ツリー」アイコンをクリックし、_「環境」_→_「サーバー」_→_「admin-server」_を選択します。12.2.1.4.0を使用していることがわかります。 ![WLSバージョン](images/wls-version.png)
    

Congratulation !!!

これでワークショップの終わりです。

このワークショップが役に立つことを願っています。

## 確認

*   **著者** - Ankit Pandey
*   **貢献者** - Sid Joshi、Maciej Gruszka
*   **最終更新者/日付** - Ankit Pandey、2023年10月